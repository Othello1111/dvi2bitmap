<subsect id=rn-0.12b2 export>Release 0.12b2

<p>New and changed functionality:
<ul>

<li>Add `unit' special, and fix bugs in the `mark' and `strut'
specials.  This causes a few single-pixel changes in the reported
locations of marks and the bounding-boxes coerced by struts.</li>

<li>Conversions between units (`pt', `cm', and so on) are
generalised, and extra library functionality means you'll get this
right more often.</li>

<li>Refactoring of internal logic handling magnification and unit
conversions.  This is tremendously error-prone, and difficult to write
a regression test for, but it produces apparently correct results as
far as I've been able to test it.  Be on the lookout for subtle errors.</li>

<li>Various uninitialised-variable bugs caught.</li>

</ul>

<subsect id=rn-0.12b1 export>Release 0.12b1

<p>New and changed functionality:
<ul>
  <li>Input files are now mapped (using mmap(2)) if that functionality
  is available, and if they're determined to be seekable (ie, not a
  pipe).  This should increase the speed of access to large DVI files
  (but this probably wasn't a huge bottleneck before).</li>

  <li>Modified DviFile::currH and currV so that they now report
  positions in multiple more useful units.  Enhanced library
  documentation.</li>

  <li>Added dvireport.cc program to report the contents of DVI files
  (in a different way from the dv2dt suite), which also acts as an
  example of the use of the library.</li>

  <li>Modify <code>--output</code> so that if there is no `%'
  character in the `pattern', <code>dvi2bitmap</code> takes this to be
  the name of the one output file; omitting the `%' was previously an
  error.</li>

  <li>Added `mark' special; the format of the
  <code>--query=bitmaps</code> output has been consequently slightly
  enhanced.</li>

  <li>Modified interface to <code>DviFile::getEvent</code> so that
  the returned event should be released by a method call, rather than
  <code>delete</code>.</li>

  <li>Fixed bug which meant DviFile could search for PK files in
  demented sizes (non-initialised variable...)</li>
</ul>

<subsect id=rn-0.11 export>Release 0.11

<p>Bugfixes: correct semantics of DviFile::getEndOfPage, so that
skipping the last page now works; and Bitmap::scaleDown, so that
creating multiple bitmaps now works again.

<p>Reorder checks in configure, for robustness

<subsect id=rn-0.11b1 export>Release 0.11b1

<p>Major developments:
<ul>
  <li>The program is a wrapper for libdvi2bitmap, a library which abstracts
    DVI and PK files, Bitmaps, and various other objects supporting
    these.  This is built as both a static and a shareable library.</li>

  <li>Can read DVI files from a non-seekable stream such as a
  pipe.</li>

  <li>Internal bitmaps are now expandable (no more guessing the output
  bitmap size)</li>

  <li>Build system redone using automake and libtool</li>

  <li>Released under the GPL.</li>

  <li>A few minor option changes (hopefully the last ones) since the
  previous version</li>
</ul>
</p>


<subsect id=rn-0.10 export>Release 0.10b1

<p><code>dvi2bitmap</code> is now GPLed!

<p>Option processing has completely changed, with long options added, and
the short options reorganised.  The following table highlights
important changes, where there is a straightforward mapping.
<tabular>
<tgroup cols=3>
<colspec colnum=3 align=center/>
<thead>
<row><entry>old</entry><entry>new</entry><entry>Note</entry></row>
<tbody>
<row><entry><code>-bh</code></entry><entry><code>-h, --height</code></entry></row>
<row><entry><code>-bw</code></entry><entry><code>-w, --width</code></entry></row>
<row><entry><code>-bp</code></entry><entry><code>-t, --paper-size</code></entry></row>
<row><entry><code>-C, -c</code></entry><entry><code>-c, --crop</code></entry></row>
<row><entry><code>-fp</code></entry><entry><code>-F, --font-search</code></entry><entry>[1]</entry></row>
<row><entry><code>-fm</code></entry><entry><code>-M, --font-mode</code></entry></row>
<row><entry><code>-fg, -fG</code></entry><entry><code>-G, --font-gen</code></entry></row>
<row><entry><code>-g</code></entry><entry><code>-g, --debug</code></entry></row>
<row><entry><code>-m</code></entry><entry><code>-m, --magnification</code></entry></row>
<row><entry><code>-n</code></entry><entry><code>-n, --preamble-only</code></entry><entry>[2]</entry></row>
<row><entry><code>-l</code></entry><entry><code>-l, --end-page</code></entry></row>
<row><entry><code>-p</code></entry><entry><code>-p, --start-page</code></entry></row>
<row><entry><code>-pp</code></entry><entry><code>-P, --page-range</code></entry><entry>[3]</entry></row>
<row><entry><code>-o</code></entry><entry><code>-o, --output</code></entry></row>
<row><entry><code>-P</code></entry><entry><code>-X, --process</code></entry><entry>[4]</entry></row>
<row><entry><code>-q</code></entry><entry><code>-v, --verbose</code></entry></row>
<row><entry><code>-Q</code></entry><entry><code>-Q, --query</code></entry><entry>[5]</entry></row>
<row><entry><code>-r</code></entry><entry><code>-r, --resolution</code></entry></row>
<row><entry><code>-R</code></entry><entry><code>-R, --colours</code></entry><entry>[4]</entry></row>
<row><entry><code>-s</code></entry><entry><code>-s, --scalefactor</code></entry></row>
<row><entry><code>-t</code></entry><entry><code>-T, --output-type</code></entry></row>
<row><entry><code>-V</code></entry><entry><code>-V, --version</code></entry></row>
</tbody>
</tabular>

<p>Notes:
<ul>

<li>1: this is now more flexible.  Old <code>-fp mypath</code> is
now <code>--font-search=path=mypath</code></li>

<li>2: <code>-n</code> is (conventional) shorthand for
<code>--process=preamble-only</code></li>

<li>3: page-selection syntax has changed.</li>

<li>4: extra syntax added.</li>

<li>5: For consistency, <em>none</em> of the query options
<code>--query</code> now automatially exit.</li>
</ul></p>

<p>Font searching can now be done by a script specified either at
compile time, or as the argument to the
<code>--font-search=command=...</code> option.  This frees you from
dependence on the <code>kpathsea</code> library, without being
therefore obliged to specify an explicit font path.

<p>Changes in the configure script:
<ul>

<li>Configure option <code>&ddash;enable-png</code> has turned into
<code>&ddash;with-png</code> for consistency with
<code>&ddash;with-kpathsea</code>, since part of this option's purpose
is to indicate the possibly non-standard location of the
<code>libpng</code> library.</li>

<li>Addition of <code>--with-fontfinder</code> option.

</ul>
</p>

<subsect id=rn-0.9-7p1 export>Release 0.9-7p1

<p>Jeff Holt (<code>jeff.holt@hotsos.com</code>) noted build
problems.  Either the RedHat includes or gcc have recently become
fussier, which exposed a clash of prototypes within the kpathsea
code.  Extra configuration code added to resolve this.

<subsect id=rn-0.9-7 export>Release 0.9-7

<p>Yamabe Kazuharu (<code/tako_da@qc4.so-net.ne.jp>) supplied a writer 
for XPM bitmaps.  This is built-in, not using the XPM library (see the 
<webref url='http://www-sop.inria.fr/koala/lehors/xpm.html' >XPM home
page</webref>), so may not support all the XPM functionality.

<subsect id=rn-0.9-6 export>Release 0.9-6

<p>Fixed a character-handling bug.  Oleg Bartunov (<code/oleg@sai.msu.su>)
identified an error in the handling of some of the opcodes in the DVI
file, which meant that only 7-bit fonts were being set correctly (how
parochial of me!).  He also sent me the fix -- many thanks to him.

<p>Also made a change to the options of the configuration script,
turning <code/&ddash;enable-kpathsea> back to
<code/&ddash;with-kpathsea>, which is more sensible, in retrospect (I
think the processing of this was rather garbled in the previous version).

<subsect id=rn-0.9-5 export>Release 0.9-5

<p>Added some functionality, but more importantly corrected two nasty
font bugs.
<ul>
<li>Added options <code/-bp>, to set initial bitmap size based on
paper sizes and <code/-Qp> to list the sizes available.  Added option
<code/-PC> to turn off cropping, which is useful if you want output of
a certain size.

<li>Fixed a bug which caused fonts loaded at magnified sizes to be
requested at the wrong size, even though, when they were found to be
missing, the correct font-generation command was being issued.

<li>Fixed the longish-standing bug to do with spacing at smaller font
sizes: cmr7 and cmr12 now look as their maker intended.

<li>Corrected a bug which caused page-selection to be done subtly
wrongly (font selections were being ignored, and byte values of 140 in
DVI data would have caused merry hell).

<li>configure script: The configuration for PNG now doesn't rely on a
libpng version better than 0.96.  Font-generation is now enabled by
default, despite the potential for confusion, which should be covered
in the documentation.

<li>Added better diagnostics to InputByteStream.cc, so that if it goes
wrong, you're given at least a clue why.

</ul>

<subsect id=rn-0.9-4 export>Release 0.9-4

<p>No functionality change.  The only difference from release 0.9-4 is
to the packaging for Starlink nodes (added a working <code/export_run>
target).

<subsect id=rn-0.9-3 export>Release 0.9-3

<p>No significant added functionality to the main program, but:

<ul>
<li>Added <code/-QG> and <code/-Qg> options (see <ref id=usage.options.q/>).
<li>Added <code/test> directory, and test script, which aims to give
useful advice about setting <code/DVI2BITMAP_PK_PATH> if that turns
out to be necessary.
<li>More discussing in the documentation about generating fonts,
specifically referring folk to the `<code/make test>' target in the Makefile.
<li>Now option <code/-q> turns off warnings, but not errors (was
rather inconsistent before), and <code/-qq> turns off errors, too.
</ul>

<subsect id=rn-0.9-2 export>Release 0.9-2

<p>Bugfix release.  The program was crashing on Suns, when built with
gcc 2.8.1.  I'm not sure I found any underlying problem, but I fixed
something, which stopped it crashing for me (Mmmm...).

<p>This release adds a script <code>img-eqlist.pl</code>, to transform
a file of LaTeX maths fragments into a LaTeX file, keeping track of
filenames, and avoiding generating duplicate bitmaps for duplicated
maths.  See <ref id=developments/>.

<subsect id=rn-0.9 export>Release 0.9

<p>No big changes, but a sufficiently significant change in the
functionality to require a new minor version, rather than just a new
release number.
<ul>
<li>The <code/-Q> options (see <ref id=usage.options.q/>) now write
their output lines (to stdout) 
prefixed by the option letters, so that the output of <code/-Qf> now
consists of lines starting `<code/Qf >'.  This makes it easier to
disentangle the output if several of these options are present -- it
was added when option <code/-Qb> was added -- but means that any
scripts parsing the previous version's output would break.

<li>Options <code/-Rf> and <code/-Rb> added (see <ref
id=usage.options.r/>), to set the foreground and 
background colours on the command line, rather than just using the
<ref id=usage.special.fg>foreground special</ref>.  This is still a
bit rudimentary, as it can be done only once, for the whole document.

<li>Some improvements to the PNG output, so that when transparent PNGs
are viewed against their `natural' background, they look the same as
the same image without transparency (ie, I fixed the relationship of
the output palette and the alpha channel in this case).

</ul>

<subsect id=rn-0.8 export>Release 0.8

<p>Added support for palettised PNG output.  This was intended to
allow me to support full transparency on PNGs, but the particular case
which is appropriate for this seems to be very poorly supported in PNG
viewers, so, although I believe the output to be correct, you can't
see the benefit in most cases.

<p>That made it easy to support changing the foreground and background
colours for output text, so I did that as an encore.

<p>Added the `strut' special.

<subsect id=rn-0.7 export>Release 0.7

<p>Version number fiddling: this is still beta software, and as such
shouldn't be sent out with a major version number of&nbsp;1.  Also,
I'd been updating the `release number' (after the hyphen) with new
releases -- this is incorrect, as this should indicate only bug-fixing
or documentation changes, rather than changes in functionality.  I've
therefore rationalised the version numbering, and changed history to
the extent of modifying the notes in this ReleaseNotes section.  This
shouldn't cause significant confusion, as this package has up to now only
been circulated internally.

<p>Added support for PNG graphics, using the libpng library, if it's
installed.

<p>The Metafont mode used for building fonts is now configurable at
runtime; the default is configurable at configuration time; and
default default (!) mode and resolution now properly match, so that
you no longer have to give the <code/-r> option every single time.

<p>The manpage source was brought up to date.

<p>The <code/-f> option was split into the <code/-fp>, <code/-fm>,
<code/-fg> and <code/-fG> options.

<p>The <code/&ddash;enable-fontgen> flag was added to the
configuration script.

<p>Various clarifications to the documentation.

<p>Assorted tidy-ups to get it to satisfy <code/-Wall> on a wider
range of platforms.


<subsect id=rn-0.6 export>Release 0.6

<p>Added support to allow the program to lie about its name.  For a
discussion of the need for this, see <ref id=usage.fonts.finding/>.

<subsect id=rn-0.5 export>Release 0.5

<p>Missing fonts are now generated by the program, and the
<code/TEXMFCNF> variable is now set automatically (unless that
behaviour is suppressed at configuration time).

<p>Support for more sophisticated cropping.

<subsect id=rn-0.4 export>Release 0.4

<p>The <code/DVI2BITMAP_PK_PATH> environment variable now accepts a
colon-separated list of directories to search.  The font searching
algorithm which uses that variable now does the font-size rounding
calculation properly, and will additionally search for fonts within
0.2&percent of the target size, as required by the DVI Driver
Standard.

<p>The kpathsea font searching mechanism is still the preferred way of
finding fonts, but since many folk don't have, or don't want to
obtain, access to the library, I've made the simple
font-searching algorithm marginally more sophisticated, as described
above.

<subsect id=rn-0.3 export>Release 0.3

<p>No significant changes to functionality, but a couple of
documentation and packaging improvements.

<!-- Local Variables: -->
<!-- mode: text -->
<!-- End: -->
